<html><body bgcolor="#000000" text="#ffffff"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td>One of the modes in the game "osu!" is called "catch the beat".
In this mode, you control a character that catches falling fruit.
<br></br>
<br></br>
<br></br>
The game is played in the vertical plane.
For simplicity, we will assume that both your character and all pieces of fruit are points in that plane.
<br></br>
<br></br>
<br></br>
You start the game at the coordinates (0, 0).
Your character can only move along the x-axis.
The maximum speed of your character is 1 unit of distance per second.
For example, you need at least 3 seconds to move from (-2, 0) to (1, 0).
<br></br>
<br></br>
<br></br>
There are <b>n</b> pieces of fruit.
The pieces are numbered 0 through <b>n</b>-1.
For each i, fruit i starts at (x[i], y[i]).
All pieces of fruit fall down with constant speed of 1 unit of distance per second.
That is, a fruit currently located at (xf, yf) will move to (xf, yf-t) in t seconds.
You will catch a fruit if the character is located at the same point as the fruit at some moment in time.
<br></br>
<br></br>
<br></br>
The initial coordinates x[] and y[] are generated using the following pseudocode:
<br></br>
<br></br>
<pre>
x[0] = <b>x0</b>
for i = 1 to <b>n</b>-1:
    x[i] = (x[i-1] * <b>a</b> + <b>b</b>) % <b>mod1</b>

for i = 0 to <b>n</b>-1:
    x[i] = x[i] - <b>offset</b>

y[0] = <b>y0</b>
for i = 1 to <b>n</b>-1:
    y[i] = (y[i-1] * <b>c</b> + <b>d</b>) % <b>mod2</b>
</pre>
(In the pseudocode, '%' represents the 'modulo' operator.)
<br></br>
<br></br>
You are given all the ints used in the above pseudocode.
Return the maximum number of pieces of fruit you can catch.</td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>CatchTheBeat</td></tr><tr><td>Method:</td><td>maxCatched</td></tr><tr><td>Parameters:</td><td>int, int, int, int, int, int, int, int, int, int</td></tr><tr><td>Returns:</td><td>int</td></tr><tr><td>Method signature:</td><td>int maxCatched(int n, int x0, int y0, int a, int b, int c, int d, int mod1, int mod2, int offset)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>256</td></tr></table></td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>n</b> will be between 1 and 500,000, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>mod1</b> and <b>mod2</b> will be between 1 and 1,000,000,000, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>x0</b>, <b>a</b> and <b>b</b> will be between 0 and (<b>mod1</b> - 1), inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>y0</b>, <b>c</b> and <b>d</b> will be between 0 and (<b>mod2</b> - 1), inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>offset</b> will be between 0 and 1,000,000,000, inclusive.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>3</pre></td></tr><tr><td><pre>0</pre></td></tr><tr><td><pre>0</pre></td></tr><tr><td><pre>1</pre></td></tr><tr><td><pre>1</pre></td></tr><tr><td><pre>1</pre></td></tr><tr><td><pre>1</pre></td></tr><tr><td><pre>100</pre></td></tr><tr><td><pre>100</pre></td></tr><tr><td><pre>1</pre></td></tr></table></td></tr><tr><td><pre>Returns: 2</pre></td></tr><tr><td><table><tr><td colspan="2">There are 3 pieces of fruit.
Their initial coordinates are (-1, 0), (0, 1), and (1, 2).
Clearly you cannot catch fruit 0.
You can catch the other two.
One way of doing so:
<ol>
<li>Wait at (0, 0) for 1 second.</li>
<li>Catch fruit 1.</li>
<li>Move to (1, 0) in 1 second.</li>
<li>Immediately catch fruit 2.</li>
</ol></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>1</pre></td></tr><tr><td><pre>0</pre></td></tr><tr><td><pre>1234</pre></td></tr><tr><td><pre>0</pre></td></tr><tr><td><pre>0</pre></td></tr><tr><td><pre>0</pre></td></tr><tr><td><pre>0</pre></td></tr><tr><td><pre>1000000000</pre></td></tr><tr><td><pre>1000000000</pre></td></tr><tr><td><pre>1000</pre></td></tr></table></td></tr><tr><td><pre>Returns: 1</pre></td></tr><tr><td><table><tr><td colspan="2">The only fruit is located at (-1000, 1234). We can go to (-1000, 0) and then wait for 234 seconds to catch it.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>1</pre></td></tr><tr><td><pre>0</pre></td></tr><tr><td><pre>999</pre></td></tr><tr><td><pre>0</pre></td></tr><tr><td><pre>0</pre></td></tr><tr><td><pre>0</pre></td></tr><tr><td><pre>0</pre></td></tr><tr><td><pre>1000000000</pre></td></tr><tr><td><pre>1000000000</pre></td></tr><tr><td><pre>1000</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0</pre></td></tr><tr><td><table><tr><td colspan="2">Now the only fruit is located at (-1000, 999). We can't catch it.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>100</pre></td></tr><tr><td><pre>0</pre></td></tr><tr><td><pre>0</pre></td></tr><tr><td><pre>1</pre></td></tr><tr><td><pre>1</pre></td></tr><tr><td><pre>1</pre></td></tr><tr><td><pre>1</pre></td></tr><tr><td><pre>3</pre></td></tr><tr><td><pre>58585858</pre></td></tr><tr><td><pre>1</pre></td></tr></table></td></tr><tr><td><pre>Returns: 66</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>500000</pre></td></tr><tr><td><pre>123456</pre></td></tr><tr><td><pre>0</pre></td></tr><tr><td><pre>1</pre></td></tr><tr><td><pre>0</pre></td></tr><tr><td><pre>1</pre></td></tr><tr><td><pre>1</pre></td></tr><tr><td><pre>1000000000</pre></td></tr><tr><td><pre>1000000000</pre></td></tr><tr><td><pre>0</pre></td></tr></table></td></tr><tr><td><pre>Returns: 376544</pre></td></tr><tr><td><table><tr><td colspan="2">The fruits are located in (123456, 0), (123456, 1), ..., (123456, 499999).</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">5)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>500000</pre></td></tr><tr><td><pre>0</pre></td></tr><tr><td><pre>0</pre></td></tr><tr><td><pre>0</pre></td></tr><tr><td><pre>0</pre></td></tr><tr><td><pre>0</pre></td></tr><tr><td><pre>0</pre></td></tr><tr><td><pre>1</pre></td></tr><tr><td><pre>1</pre></td></tr><tr><td><pre>0</pre></td></tr></table></td></tr><tr><td><pre>Returns: 500000</pre></td></tr><tr><td><table><tr><td colspan="2">In this case all the fruits start at (0, 0).
Note that there can be more than one fruit at any position.
We can catch all such fruit at the same time.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">6)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>10</pre></td></tr><tr><td><pre>999999957</pre></td></tr><tr><td><pre>79</pre></td></tr><tr><td><pre>993948167</pre></td></tr><tr><td><pre>24597383</pre></td></tr><tr><td><pre>212151897</pre></td></tr><tr><td><pre>999940854</pre></td></tr><tr><td><pre>999999986</pre></td></tr><tr><td><pre>999940855</pre></td></tr><tr><td><pre>3404</pre></td></tr></table></td></tr><tr><td><pre>Returns: 3</pre></td></tr><tr><td><table><tr><td colspan="2">Watch out for integer overflow when generating the coordinates.</td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
